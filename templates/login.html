<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login</title>

    <link rel="stylesheet" href="../static/css/login.css">
  </head>
  <body>
  <div class="container">
    <div class="form-box">
      <!-- 注册 开始 -->
      <div class="register-box ">
        <h1>register</h1>
        {% for message in get_flashed_messages() %}
          <p>{{ message }}</p>
        {% endfor %}
        <form action="{{ url_for('register') }}" method = "post">
          <input type="text" placeholder="用户名" name = 'username'/>
          <input type="email" placeholder="邮箱" name = 'email'/>
          <input type="password" placeholder="密码" name = 'password'/>
          <input type="password" placeholder="确认密码" name = 'confirmPassword'/>
          <input type="submit" value="注册"/>
        </form>
      </div>
      <!-- 注册 结束 -->

      <!-- 登录盒子 开始 -->
      <div class="login-box hidden">
        <h1>login</h1>
        {% for message in get_flashed_messages() %}
            <div class=flash>{{ message }}</div>
        {% endfor %}
        <form method="post" action="{{ url_for('login') }}">
          <input type="text" placeholder="用户名" name = 'username'>
          <input type="password" placeholder="密码" name = 'password'>
          <button>登录</button>
        </form>
      </div>
      <!-- 登录盒子 结束 -->
    </div>

    <div class="con-box left">
      <h2>欢迎来到
        <span>宿舍管理系统</span>
      </h2>
      <p>据此您可管理自己的
        <span>寝室</span>
      </p>
      <img src="../static/images/1.jpg" alt="525">
      <p>已有账号</p>
      <button id="login">去登录</button>
    </div>

    <div class="con-box right">
      <h2>欢迎来到<span>宿舍管理系统</span></h2>
      <p>据此您可管理自己的<span>寝室</span></p>
      <img src="../static/images/02.jpg" alt="522">
      <p>没有账号</p>
      <button id="register">去注册</button>
    </div>
  </div>



  <script>
    let login = document.getElementById('login');

    let register = document.getElementById('register');
    let form_box = document.getElementsByClassName('form-box')[0];
    let register_box = document.getElementsByClassName('register-box')[0];
    let login_box = document.getElementsByClassName('login-box')[0];

    register.addEventListener('click', () => {
      console.log('点击了注册事件');
      form_box.style.transform = 'translateX(80%)';
      login_box.classList.add('hidden');
      register_box.classList.remove('hidden');
    })

    login.addEventListener('click', () => {
      console.log('点击了登录事件');
      form_box.style.transform = 'translateX(0%)';
      register_box.classList.add('hidden');
      login_box.classList.remove('hidden');
    })
  </script>
  <script type="text/javascript">
  function hidengonggao(){
        document.getElementById('flash').style.display='none';
  };
  setTimeout(hidengonggao,1500);

  </script>
  </body>
</html>
